<!doctype html> <!--[if IE 9]>
<html class="no-js ie9" lang="en">
   <![endif]-->
   <html class="no-js" lang="en">
      <head>
         <meta charset="utf-8"/>
         <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
         <link rel="shortcut icon" href="http://neo4j.com/wp-content/themes/neo4jzurb/favicon.ico"/>
         <title>Graph Data Modeling Guidelines &amp; Best Practices | Developer Resources | Neo4j Graph Database</title>
         <script type="text/javascript">
            var _kmq = _kmq || [];
            var _kmk = _kmk || 'a6a57b4b368caf34f5a6f2042eb075f9e559d779';
            function _kms(u){
                setTimeout(function(){
                    var d = document, f = d.getElementsByTagName('script')[0],
                        s = d.createElement('script');
                    s.type = 'text/javascript'; s.async = true; s.src = u;
                    f.parentNode.insertBefore(s, f);
                }, 1);
            }
            _kms('//i.kissmetrics.com/i.js');
            _kms('//doug1izaerwt3.cloudfront.net/' + _kmk + '.1.js');
         </script> <script type="text/javascript">
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            //Allow Linker
            ga('create', 'UA-1192232-34','auto', {'allowLinker': true});
            ga('send', 'pageview');

            // Load the plugin.
            ga('require', 'linker');

            // Define which domains to autoLink.
            ga('linker:autoLink', ['neo4j.org','neo4j.com','neotechnology.com','graphdatabases.com','graphconnect.com']);
         </script>
         <link rel="canonical" href="http://neo4j.com/guides/basic-data-modeling/"/>
         <meta property="og:locale" content="en_US"/>
         <meta property="og:type" content="article"/>
         <meta property="og:title" content="Basic Data Modeling - Neo4j Graph Database"/>
         <meta property="og:description" content="Please refer to the Neo4j Manual"/>
         <meta property="og:url" content="http://neo4j.com/guides/basic-data-modeling/"/>
         <meta property="og:site_name" content="Neo4j Graph Database"/>
         <link rel="alternate" type="application/rss+xml" title="Neo4j Graph Database &raquo; Feed" href="http://neo4j.com/feed/"/>
         <link rel="alternate" type="application/rss+xml" title="Neo4j Graph Database &raquo; Comments Feed" href="http://neo4j.com/comments/feed/"/>
         <link rel="alternate" type="application/rss+xml" title="Neo4j Graph Database &raquo; Basic Data Modeling Comments Feed" href="http://neo4j.com/guides/basic-data-modeling/feed/"/>
         <link rel='stylesheet' id='font-awesome-four-css' href="http://neo4j.com/wp-content/plugins/font-awesome-4-menus/css/font-awesome.min.css?ver=4.1.0" type='text/css' media='all'/>
         <link rel='stylesheet' id='foundation-css' href="http://neo4j.com/wp-content/themes/neo4jzurb/assets/css/app.css?ver=4.0.0" type='text/css' media='screen'/>
         <link rel='stylesheet' id='neo-codemirror-css' href="http://neo4j.com/wp-content/themes/neo4jzurb/assets/css/codemirror-neo.css?ver=4.0.0" type='text/css' media='screen'/>
         <script type='text/javascript'>
            /* <![CDATA[ */
            var ajax_object = {"ajaxurl":"http:\/\/neo4j.com\/wp-admin\/admin-ajax.php"};
            /* ]]> */
         </script> <script type='text/javascript' src='http://neo4j.com/wp-content/plugins/neo4j-download/js/download.js?ver=4.0.0'></script> <script type='text/javascript' src='http://neo4j.com/wp-content/plugins/jquery-updater/js/jquery-2.1.0.min.js?ver=2.1.0'></script> <script type='text/javascript' src='http://neo4j.com/wp-content/themes/neo4jzurb/assets/js/vendor/modernizr.min.js?ver=4.0.0'></script> <script type='text/javascript' src='http://neo4j.com/wp-content/themes/neo4jzurb/assets/js/foundation.min.js?ver=4.0.0'></script> <script type='text/javascript' src='http://neo4j.com/wp-content/themes/neo4jzurb/assets/js/vendor/codemirror.min.js?ver=4.0.0'></script> <script type='text/javascript' src='http://neo4j.com/wp-content/themes/neo4jzurb/assets/js/neo_codemirror.js?ver=4.0.0'></script> <script type='text/javascript' src='//use.typekit.net/rdt4xku.js?ver=4.0.0'></script> <script type='text/javascript' src='http://neo4j.com/wp-content/themes/neo4jzurb/assets/js/misc.js?ver=4.0.0'></script> <script type='text/javascript' src='http://neo4j.com/wp-content/themes/neo4jzurb/assets/js/neo_calculator_v3.js?ver=4.0.0'></script>
         <link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://neo4j.com/xmlrpc.php?rsd"/>
         <link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://neo4j.com/wp-includes/wlwmanifest.xml"/>
         <meta name="generator" content="WordPress 3.9.2"/>
         <link rel='shortlink' href="http://neo4j.com/?p=32079"/>
         <style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
      </head>
      <body>
         <div class="off-canvas-wrap">
            <div class="inner-wrap">
               <aside class="left-off-canvas-menu">
                  <ul class="off-canvas-list">
                     <li><a href="http://neo4j.com/use-cases/">Use Cases</a></li>
                     <li><a href="http://neo4j.com/customers/">Customers</a></li>
                     <li><a href="http://neo4j.com/community/">Community</a></li>
                     <li><a href="http://neo4j.com/docs/">Docs</a></li>
                     <li>
                        <div class="medium-3 columns headspace-20">
                           <div class="row collapse">
                              <div class="small-10 columns">
                                 <form role="search" method="get" id="searchform" class="searchform" action="http://neo4j.com/">
                                    <input type="text" name="s" id="s"/>
                              </div>
                              <div class="small-2 columns"> <div class="button postfix"> <input type="image" id="searchsubmit" src="http://www.neo4j.com/wp-content/themes/neo4jzurb/assets/images/searchicon.png" style="vertical-align:middle;"/> </form> </div> </div>
                           </div>
                        </div>
                     </li>
                  </ul>
               </aside>
               <div class="marquee">
                  <div class="navigation">
                     <div class="navigation-large hide-for-small">
                        <div class="row">
                           <div class="medium-9 large-7 columns nav-list">
                              <ul class="inline-list">
                                 <li><a href="http://neo4j.com/index.php"><img src="http://www.neo4j.com/wp-content/themes/neo4jzurb/assets/images/logo-neo4j.svg" class="logo" alt="neo4j"></a></li>
                                 <li class="nav-link"><a href="http://neo4j.com/use-cases/">Use Cases</a></li>
                                 <li class="nav-link"><a href="http://neo4j.com/customers/">Customers</a></li>
                                 <li class="nav-link"><a href="http://neo4j.com/community/">Community</a></li>
                                 <li class="nav-link"><a href="http://neo4j.com/docs/">Docs</a></li>
                              </ul>
                           </div>
                           <div class="medium-3 large-3 columns nav-search">
                              <div class="row collapse">
                                 <div class="small-10 columns">
                                    <form role="search" method="get" id="searchform" class="searchform" action="http://neo4j.com/">
                                       <input type="text" name="s" id="s"/>
                                 </div>
                                 <div class="small-2 columns"> <div class="button postfix"> <input type="image" id="searchsubmit" src="http://www.neo4j.com/wp-content/themes/neo4jzurb/assets/images/searchicon.png" style="vertical-align:middle;"/> </form> </div> </div>
                              </div>
                           </div>
                           <div class="large-2 columns show-for-large-up"> <a href="http://neo4j.com/download/" class="tiny small button right">Download</a> </div>
                        </div>
                     </div>
                     <nav class="tab-bar show-for-small">
                        <section class="left-small"> <a class="left-off-canvas-toggle menu-icon"><span></span></a> </section>
                        <section class="middle tab-bar-section"> <img src="http://www.neo4j.com/wp-content/themes/neo4jzurb/assets/images/logo-neo4j.svg" class="logo" alt="neo4j" </section>
                     </nav>
                  </div>
                  <div class="row text-center">
                     <div class="medium-10 small-centered columns">
                        <h1 class="hero-title">Developer Resources</h1>
                        <h2 class="subheader"></h2>
                     </div>
                  </div>
               </div>

               <article id="content" role="main">
                 <div class="row" style="padding: 10px 0 0;">
                   <div class="columns large-12" style="padding:10px 0 0;">
                   <ul class="breadcrumbs"> <li><a href="/developer-resources">Developer Guides</a></li> <li><a href="../">Cypher</a></li> <li class="current"><a href="#">Introduction to Cypher</a></li> </ul>
                 </div>
                 </div>
                 <div class="row">
                   <div class="columns large-12">
                   <h1 style="font-size:2.1rem;">Graph Data Modeling Guidelines &amp; Best Practices</h1>
                 </div>
                 </div>
                  <section class="row" style="padding:10px 0;">

                  <div class="large-12 columns" style="padding-top:0;">


<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="quoteblock abstract">
<div class="title">Goals</div>
<blockquote style="padding-left: 0;">
The goal of this guide is to walk you through the graph data modeling lifecycle for Neo4j.
</blockquote>
</div>
<div class="quoteblock abstract">
<div class="title">Prerequisites</div>
<blockquote style="padding-left: 0;">
You should have a firm understanding of the <a href="./property-graph">property graph data model</a> of Neo4j. You should understand the basics of Neo4j&#8217;s query language, <a href="./cypher">Cypher</a>.
</blockquote>
</div>


<div class="label">Intermediate</div>
<hr/>

<div class="toc">
<h3 class="title">Overview</h3>

<ul class="sectlevel1">
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_describing_a_domain">Describing a domain</a>
<ul class="sectlevel2">
<li><a href="#_nodes">Nodes</a></li>

<li><a href="#_labels">Labels</a></li>

<li><a href="#_relationships">Relationships</a></li>
<li><a href="#_draw_the_data_model">Draw the data model</a></li>
</ul>
</li>
<li><a href="#_answering_questions">Answering questions</a>
<ul class="sectlevel2">
<li><a href="#_list_your_questions">List your questions</a></li>

<li><a href="#_create_a_sample_dataset">Create a sample dataset</a></li>
<li><a href="#_translate_questions_to_cypher_queries">Translate questions to Cypher queries</a></li>
</ul>
</li>
</ul>

<hr>


<div class="paragraph">
<p>This guide will introduce you to graph data modeling for Neo4j. You will be introduced to the basic process in which one takes an arbitrary domain and designs a graph data model for answering a wide range of business questions.</p>
</div>

</div>
</div>
<div class="sect1 "  >
    
<h3 id="_introduction">Introduction</h3>

<div class="sectionbody row">
<div class="columns medium-12">


<div class="paragraph">
<p>Graph data modeling is the process in which a Neo4j user describes an arbitrary domain as a connected graph of nodes and relationships. From this description, a graph data model is designed to answer questions in the form of Cypher queries.</p>
</div>

</div>
</div>

</div>
<div class="sect1 "  >
    
<h3 id="_describing_a_domain">Describing a domain</h3>

<div class="sectionbody row">
<div class="columns medium-12">


<div class="paragraph">
<p>The first step in creating a good graph data model is to describe your domain. Consider the following description of the connection between two people, Sally and John.</p>
</div>

<div class="quoteblock" style="margin: auto; width: 95%;">
<div class="row text-center hide-for-small hr-style">
   <div class="medium-5 columns">
      <hr>
   </div>
   <div class="medium-2 columns"> <object width="100%" height="100%" type="image/svg+xml" data="http://www.neo4j.com/wp-content/themes/neo4jzurb/assets/images/hr-image.svg"></object> </div>
   <div class="medium-5 columns">
      <hr>
   </div>
</div>

<blockquote>
Two <em>people</em>, <strong>John</strong> and <strong>Sally</strong>, are <u>friends</u>. Both <strong>John</strong> and <strong>Sally</strong> have <u>read</u> the <em>book</em>, <strong>Graph Databases</strong>.
</blockquote>
<div class="row text-center hide-for-small hr-style">
   <div class="medium-5 columns">
      <hr>
   </div>
   <div class="medium-2 columns"> <object width="100%" height="100%" type="image/svg+xml" data="http://www.neo4j.com/wp-content/themes/neo4jzurb/assets/images/hr-image.svg"></object> </div>
   <div class="medium-5 columns">
      <hr>
   </div>
</div>
</div>


<div class="paragraph">
<p>We can take this statement and identify labels, nodes, and relationships.</p>
</div>

<div class="sect2 columns medium-10" style='padding-left: 0;' >
    
<h4 id="_nodes">Nodes</h4>



<div class="paragraph">
<p>The first entities that we&#8217;ll identify in our domain are the nodes. The Neo4j documentation describes nodes as:</p>
</div>

<div class="quoteblock" style="margin: auto; width: 95%;">
<div class="row text-center hide-for-small hr-style">
   <div class="medium-5 columns">
      <hr>
   </div>
   <div class="medium-2 columns"> <object width="100%" height="100%" type="image/svg+xml" data="http://www.neo4j.com/wp-content/themes/neo4jzurb/assets/images/hr-image.svg"></object> </div>
   <div class="medium-5 columns">
      <hr>
   </div>
</div>

<blockquote>
The fundamental units that form a graph are nodes and relationships. In Neo4j, both nodes and relationships can contain properties. Nodes are often used to represent entities, but depending on the domain relationships may be used for that purpose as well. Apart from properties and relationships, nodes can also be labeled with zero or more labels.
</blockquote>
<div class="attribution">
<cite>docs.neo4j.org</cite><br>
&#8212; 3.1 Nodes
</div>
<div class="row text-center hide-for-small hr-style">
   <div class="medium-5 columns">
      <hr>
   </div>
   <div class="medium-2 columns"> <object width="100%" height="100%" type="image/svg+xml" data="http://www.neo4j.com/wp-content/themes/neo4jzurb/assets/images/hr-image.svg"></object> </div>
   <div class="medium-5 columns">
      <hr>
   </div>
</div>
</div>
<div class="imageblock">
<p class="content">
<img src="node.svg" alt="Nodes">
</p>
</div>


<div class="paragraph">
<p>We can identify nodes as entities with a unique conceptual identity. In this case, these entities are outlined below in bold.</p>
</div>

<div class="quoteblock" style="margin: auto; width: 95%;">
<div class="row text-center hide-for-small hr-style">
   <div class="medium-5 columns">
      <hr>
   </div>
   <div class="medium-2 columns"> <object width="100%" height="100%" type="image/svg+xml" data="http://www.neo4j.com/wp-content/themes/neo4jzurb/assets/images/hr-image.svg"></object> </div>
   <div class="medium-5 columns">
      <hr>
   </div>
</div>

<blockquote>
Two people, <strong>John</strong> and <strong>Sally</strong>, are friends. Both <strong>John</strong> and <strong>Sally</strong> have read the book, <strong>Graph Databases</strong>.
</blockquote>
<div class="row text-center hide-for-small hr-style">
   <div class="medium-5 columns">
      <hr>
   </div>
   <div class="medium-2 columns"> <object width="100%" height="100%" type="image/svg+xml" data="http://www.neo4j.com/wp-content/themes/neo4jzurb/assets/images/hr-image.svg"></object> </div>
   <div class="medium-5 columns">
      <hr>
   </div>
</div>
</div>


<div class="paragraph">
<p>Which yields the nodes:</p>
</div>

<div class="ulist">


<ul>
<li>
<strong>John</strong>
</li>
<li>
<strong>Sally</strong>
</li>
<li>
<strong>Graph Databases</strong>
</li>
</ul>

</div>
<div class="imageblock">
<p class="content">
<img src="data-modeling-3.png" alt="Extract Nodes">
</p>
</div>
</div>
<div class="sect2 side-nav columns medium-2" style='padding-left: 0;' >
    <ul class='side-nav code-panel' style='width: auto; height:auto; text-align: right; border: 0;'><li>
<h2 id="_recommended">Recommended</h2>
</li>
<div class="ulist recommended">


<ul style='margin-left: 0;'>
<li style='list-style: none outside none;'>
<strong>Neo4j Docs:</strong>
</li>
<li style='list-style: none outside none;'>
<a href="http://docs.neo4j.org/chunked/stable/graphdb-neo4j-nodes.html">3.1. Nodes</a>
</li>
</ul>

</div>
</div>
<div class="sect2 columns medium-10" style='padding-left: 0;' >
    
<h4 id="_labels">Labels</h4>



<div class="paragraph">
<p>In the documentation, labels are described as:</p>
</div>

<div class="quoteblock" style="margin: auto; width: 95%;">
<div class="row text-center hide-for-small hr-style">
   <div class="medium-5 columns">
      <hr>
   </div>
   <div class="medium-2 columns"> <object width="100%" height="100%" type="image/svg+xml" data="http://www.neo4j.com/wp-content/themes/neo4jzurb/assets/images/hr-image.svg"></object> </div>
   <div class="medium-5 columns">
      <hr>
   </div>
</div>

<blockquote>
A label is a named graph construct that is used to group nodes into sets; all nodes labeled with the same label belongs to the same set. Many database queries can work with these sets instead of the whole graph, making queries easier to write and more efficient. A node may be labeled with any number of labels, including none, making labels an optional addition to the graph.
</blockquote>
<div class="attribution">
<cite>docs.neo4j.org</cite><br>
&#8212; 3.4 Labels
</div>
<div class="row text-center hide-for-small hr-style">
   <div class="medium-5 columns">
      <hr>
   </div>
   <div class="medium-2 columns"> <object width="100%" height="100%" type="image/svg+xml" data="http://www.neo4j.com/wp-content/themes/neo4jzurb/assets/images/hr-image.svg"></object> </div>
   <div class="medium-5 columns">
      <hr>
   </div>
</div>
</div>
<div class="imageblock">
<p class="content">
<img src="label.svg" alt="Labels">
</p>
</div>


<div class="paragraph">
<p>First we&#8217;ll start by identifying the roles of objects mentioned in the statement. We know that this statement is about two objects.</p>
</div>

<div class="quoteblock" style="margin: auto; width: 95%;">
<div class="row text-center hide-for-small hr-style">
   <div class="medium-5 columns">
      <hr>
   </div>
   <div class="medium-2 columns"> <object width="100%" height="100%" type="image/svg+xml" data="http://www.neo4j.com/wp-content/themes/neo4jzurb/assets/images/hr-image.svg"></object> </div>
   <div class="medium-5 columns">
      <hr>
   </div>
</div>

<blockquote>
Two <em>people</em>, John and Sally, are friends. Both John and Sally have read the <em>book</em>, Graph Databases.
</blockquote>
<div class="row text-center hide-for-small hr-style">
   <div class="medium-5 columns">
      <hr>
   </div>
   <div class="medium-2 columns"> <object width="100%" height="100%" type="image/svg+xml" data="http://www.neo4j.com/wp-content/themes/neo4jzurb/assets/images/hr-image.svg"></object> </div>
   <div class="medium-5 columns">
      <hr>
   </div>
</div>
</div>


<div class="paragraph">
<p>We can conclude that there are two labels within this graph:</p>
</div>

<div class="ulist">


<ul>
<li>
<em>Person</em>
</li>
<li>
<em>Book</em>
</li>
</ul>

</div>
<div class="imageblock">
<p class="content">
<img src="data-modeling-2.png" alt="Extract labels">
</p>
</div>


<div class="paragraph">
<p>Now that we have identified both our nodes and labels, we can assign the labels to the nodes that they describe. For <strong>John</strong> and <strong>Sally</strong> we apply the role <em>Person</em>. For <strong>Graph Databases</strong> we apply the role <em>Book</em>.</p>
</div>

<div class="imageblock">
<p class="content">
<img src="data-modeling-4.png" alt="Apply labels">
</p>
</div>
</div>
<div class="sect2 side-nav columns medium-2" style='padding-left: 0;' >
    <ul class='side-nav code-panel' style='width: auto; height:auto; text-align: right; border: 0;'><li>
<h2 id="_recommended_2">Recommended</h2>
</li>
<div class="ulist recommended">


<ul style='margin-left: 0;'>
<li style='list-style: none outside none;'>
<strong>Neo4j Docs:</strong>
</li>
<li style='list-style: none outside none;'>
<a href="http://docs.neo4j.org/chunked/stable/graphdb-neo4j-labels.html">3.4. Labels</a>
</li>
</ul>

</div>
</div>
<div class="sect2 columns medium-10" style='padding-left: 0;' >
    
<h4 id="_relationships">Relationships</h4>



<div class="paragraph">
<p>Further, we can identify the interactions between these subjects:</p>
</div>

<div class="ulist">


<ul>
<li>
<strong>John</strong> is a <u>friend</u> of <strong>Sally</strong>
</li>
<li>
<strong>Sally</strong> is a <u>friend</u> of <strong>John</strong>
</li>
<li>
<strong>John</strong> has <u>read</u> <strong>Graph Databases</strong>
</li>
<li>
<strong>Sally</strong> has <u>read</u> <strong>Graph Databases</strong>
</li>
</ul>

</div>


<div class="paragraph">
<p>Now that we have described the kinds of things in our domain as nodes with their labels, we can connect the nodes together to describe their interactions.</p>
</div>



<div class="paragraph">
<p>For a <em>Person</em> label, we can see that these kinds of nodes can be connected by the <u>friend of</u> relationship.</p>
</div>



<div class="paragraph">
<p>For a <em>Book</em> label, we can see that a <em>Person</em> can be connected to these nodes by a <u>has read</u> relationship.</p>
</div>

</div>
<div class="sect2 columns medium-10" style='padding-left: 0;' >
    
<h4 id="_draw_the_data_model">Draw the data model</h4>



<div class="paragraph">
<p>Now that we have identified the kinds of relationships that can exist between labels of nodes, we can complete our graph data model.</p>
</div>

<div class="imageblock">
<p class="content">
<img src="data-modeling-1.png" alt="Graph data model">
</p>
</div>
</div>
</div>
</div>

</div>
<div class="sect1 "  >
    
<h3 id="_answering_questions">Answering questions</h3>

<div class="sectionbody row">
<div class="columns medium-12">


<div class="paragraph">
<p>We have gone through the process of creating a basic graph data model for the interactions between people and books. We can take this data model further by defining attributes of these entities as key-value properties.</p>
</div>

<div class="sect2 columns medium-10" style='padding-left: 0;' >
    
<h4 id="_list_your_questions">List your questions</h4>



<div class="paragraph">
<p>First, start by listing your questions that you want to answer about your data.</p>
</div>

<div class="ulist">


<ul>
<li>
When did John and Sally become friends?
</li>
<li>
What is the average rating of the book Graph Databases?
</li>
<li>
Who is the author of the book Graph Databases?
</li>
<li>
How old is Sally?
</li>
<li>
How old is John?
</li>
<li>
Who is older, Sally or John?
</li>
<li>
Who read the book Graph Databases first, Sally or John?
</li>
</ul>

</div>


<div class="paragraph">
<p>From these list of questions, you can identify the attributes that must belong to entities within your data model.</p>
</div>



<div class="paragraph">
<p><span class="image"><img src="data-modeling-5.png" alt="Graph data model with properties"></span></p>
</div>

</div>
<div class="sect2 side-nav columns medium-2" style='padding-left: 0;' >
    <ul class='side-nav code-panel' style='width: auto; height:auto; text-align: right; border: 0;'><li>
<h2 id="_recommended_3">Recommended</h2>
</li>
<div class="ulist recommended">


<ul style='margin-left: 0;'>
<li style='list-style: none outside none;'>
<a href="http://docs.neo4j.org/chunked/stable/data-modeling-examples.html">Data Modeling Examples</a>
</li>
<li style='list-style: none outside none;'>
<a href="https://github.com/neo4j-contrib/graphgist/wiki">GraphGist Project</a>
</li>
<li style='list-style: none outside none;'>
<a href="http://vimeo.com/89075703">Video</a>
</li>
</ul>

</div>
</div>
<div class="sect2 columns medium-10" style='padding-left: 0;' >
    
<h4 id="_create_a_sample_dataset">Create a sample dataset</h4>



<div class="paragraph">
<p>Now that we have a complete graph data model for our domain that sufficiently answers our questions, we can go about creating a sample dataset using Cypher.</p>
</div>

<div class="listingblock">
<div class="content code-panel" style="width: 100%; height: auto; border: medium 1px;">
<pre style="font-size: 16px; font-weight: 100;"  class="code programlisting cm-s-neo" data-lang="cypher"><code>// Create Sally
CREATE (sally:Person { name: 'Sally', age: 29 })

// Create John
CREATE (john:Person { name: 'John', age: 27 })

// Create Graph Databases book
CREATE (gdb:Book { title: 'Graph Databases',
                   authors: ['Ian Robinson', 'Jim Webber'] })

// Connect Sally and John as friends
CREATE (sally)-[:FRIEND_OF { since: 1357718400 }]-&gt;(john)

// Connect Sally to Graph Databases book
CREATE (sally)-[:HAS_READ { rating: 4, on: 1360396800 }]-&gt;(gdb)

// Connect John to Graph Databases book
CREATE (john)-[:HAS_READ { rating: 5, on: 1359878400 }]-&gt;(gdb)</code></pre>
</div>
</div>
</div>
<div class="sect2 columns medium-10" style='padding-left: 0;' >
    
<h4 id="_translate_questions_to_cypher_queries">Translate questions to Cypher queries</h4>



<div class="paragraph">
<p>Now that we have a sample dataset of our graph data model, we can translate our questions from earlier into queries that sufficiently answer them.</p>
</div>

<div class="sect3 "  >
    
<h5 id="_when_did_john_and_sally_become_friends">When did John and Sally become friends?</h5>

<div class="listingblock">
<div class="content code-panel" style="width: 100%; height: auto; border: medium 1px;">
<pre style="font-size: 16px; font-weight: 100;"  class="code programlisting cm-s-neo" data-lang="cypher"><code>MATCH (sally:Person { name: 'Sally' })
MATCH (john:Person { name: 'John' })
MATCH (sally)-[r:FRIEND_OF]-(john)
RETURN r.since as friends_since</code></pre>
</div>
</div>
</div>
<div class="sect3 "  >
    
<h5 id="_what_is_the_average_rating_of_the_book_graph_databases">What is the average rating of the book Graph Databases?</h5>

<div class="listingblock">
<div class="content code-panel" style="width: 100%; height: auto; border: medium 1px;">
<pre style="font-size: 16px; font-weight: 100;"  class="code programlisting cm-s-neo" data-lang="cypher"><code>MATCH (gdb:Book { title: 'Graph Databases' })
MATCH (gdb)&lt;-[r:HAS_READ]-()
RETURN avg(r.rating) as average_rating</code></pre>
</div>
</div>
</div>
<div class="sect3 "  >
    
<h5 id="_who_are_the_authors_of_the_book_graph_databases">Who are the authors of the book Graph Databases?</h5>

<div class="listingblock">
<div class="content code-panel" style="width: 100%; height: auto; border: medium 1px;">
<pre style="font-size: 16px; font-weight: 100;"  class="code programlisting cm-s-neo" data-lang="cypher"><code>MATCH (gdb:Book { title: 'Graph Databases' })
RETURN gdb.authors as authors</code></pre>
</div>
</div>
</div>
<div class="sect3 "  >
    
<h5 id="_how_old_is_sally">How old is Sally?</h5>

<div class="listingblock">
<div class="content code-panel" style="width: 100%; height: auto; border: medium 1px;">
<pre style="font-size: 16px; font-weight: 100;"  class="code programlisting cm-s-neo" data-lang="cypher"><code>MATCH (sally:Person { name: 'Sally' })
RETURN r.age as sally_age</code></pre>
</div>
</div>
</div>
<div class="sect3 "  >
    
<h5 id="_how_old_is_john">How old is John?</h5>

<div class="listingblock">
<div class="content code-panel" style="width: 100%; height: auto; border: medium 1px;">
<pre style="font-size: 16px; font-weight: 100;"  class="code programlisting cm-s-neo" data-lang="cypher"><code>MATCH (john:Person { name: 'John' })
RETURN r.age as john_age</code></pre>
</div>
</div>
</div>
<div class="sect3 "  >
    
<h5 id="_who_is_older_sally_or_john">Who is older, Sally or John?</h5>

<div class="listingblock">
<div class="content code-panel" style="width: 100%; height: auto; border: medium 1px;">
<pre style="font-size: 16px; font-weight: 100;"  class="code programlisting cm-s-neo" data-lang="cypher"><code>MATCH (people:Person)
WHERE people.name = 'John' OR people.name = 'Sally'
RETURN people.name as oldest
ORDER BY people.age DESC
LIMIT 1</code></pre>
</div>
</div>
</div>
<div class="sect3 "  >
    
<h5 id="_who_read_the_book_graph_databases_first_sally_or_john">Who read the book Graph Databases first, Sally or John?</h5>

<div class="listingblock">
<div class="content code-panel" style="width: 100%; height: auto; border: medium 1px;">
<pre style="font-size: 16px; font-weight: 100;"  class="code programlisting cm-s-neo" data-lang="cypher"><code>MATCH (people:Person)
WHERE people.name = 'John' OR people.name = 'Sally'
MATCH (people)-[r:HAS_READ]-&gt;(gdb:Book { title: 'Graph Databases' })
RETURN people.name as first_reader
ORDER BY r.on
LIMIT 1</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>

</div>
</div>

</div>
</section>


            </article>
      <div class="row text-center hide-for-small hr-style">
         <div class="medium-5 columns">
            <hr>
         </div>
         <div class="medium-2 columns"> <object height="100%" width="100%" data="http://www.neo4j.com/wp-content/themes/neo4jzurb/assets/images/hr-image.svg" type="image/svg+xml"></object> </div>
         <div class="medium-5 columns">
            <hr>
         </div>
      </div>
      <div class="row text-center show-for-small">
         <div class="medium-12 columns">
            <hr>
         </div>
      </div>

   </article>
   <div class="calloutsection">
      <div class="row">
         <div class="medium-8 small-centered columns text-center">
            <h3>Stay Connected</h3>
            <p>Sign up to find out more about Neo4j's upcoming events &amp; meetups.</p>
         </div>
      </div>
      <div class="row">
         <div class="medium-6 small-centered columns">
            <div class="row collapse">
               <div class="small-8 columns">
                  <script src="//app-sjl.marketo.com/js/forms2/js/forms2.js"></script>
                  <form id="mktoForm_519"></form>
                  <script>MktoForms2.loadForm("//app-sjl.marketo.com", "773-GON-065", 519);</script>
               </div>
               <div class="small-4 columns"> <a href="#" id="signupbody" class="button postfix">Keep Me Connected &rsaquo;</a> </div>
            </div>
         </div>
      </div>
   </div>
   <style> .mktoButtonWrap {display:none;} </style>
   <script>
      var btn = document.getElementById("signupbody");
      btn.onclick = function(){
      MktoForms2.getForm(519).submit();
      };
   </script>
   <div class="row text-center hide-for-small hr-style">
      <div class="medium-5 columns">
         <hr>
      </div>
      <div class="medium-2 columns"> <object height="100%" width="100%" data="http://www.neo4j.com/wp-content/themes/neo4jzurb/assets/images/hr-image.svg" type="image/svg+xml"></object> </div>
      <div class="medium-5 columns">
         <hr>
      </div>
   </div>
   <div class="row text-center show-for-small">
      <div class="medium-12 columns">
         <hr>
      </div>
   </div>
   <footer id="footer">
      <div class="row">
         <div class="small-6 medium-3 columns">
            <h5>Learn & Try</h5>
            <ul>
               <li><a href="../about-neo4j">About Neo4j</a></li>
               <li><a href="../graph-concepts/">Graph Concepts</a></li>
               <li><a href="http://neo4j.com/use-cases/">Use Cases</a></li>
               <li><a href="http://neo4j.com/customers/">Our Customers</a></li>
               <li><a href="http://neo4j.com/download/">Download Neo4j</a></li>
               <li><a href="http://console.neo4j.org/">Live Neo4j Console</a></li>
               <li><a href="working-with-data/guide-neo4j-browser/">Neo4j Browser</a></li>
               <li><a href="http://gist.neo4j.org">Graph Gists</a></li>
            </ul>
         </div>
         <div class="small-6 medium-3 columns">
            <h5>Develop</h5>
            <ul>
               <li><a href="http://neo4j.com/docs/">Docs</a></li>
               <li><a href="../">Neo4j Guides</a></li>
               <li><a href="working-with-data/guide-importing-data-and-etl">Import Data</a></li>
               <li><a href="http://neo4j.com/contrib/">Select a Driver</a></li>
               <li><a href="cypher-query-language/guide-cypher-basics">Cypher Query Language</a></li>
               <li><a href="build-a-graph-data-model/guide-intro-to-graph-modeling">Data Modeling</a></li>
            </ul>
         </div>
         <div class="small-6 medium-3 columns">
            <h5>Connect with Neo4j</h5>
            <ul>
               <li><a href="http://neo4j.com/training/">Training</a></li>
               <li><a href="http://neo4j.com/events/">Events</a></li>
               <li><a href="http://neo4j.com/blog/">Blog</a></li>
               <li><a href="http://neo4j.com/community/#support">Support</a></li>
               <li><a href="http://neo4j.com/neo4j-partner-program/">Neo4j Partner Program</a></li>
               <li><a href="http://neotechnology.com/about/">About Neo Technology</a></li>
            </ul>
         </div>
         <div class="small-12 medium-3 columns">
            <h5><a href="http://neo4j.com/contact-us">Contact Us &rarr;</a></h5>
            <p>1-855-636-4532 <a href="mailto:info@neotechnology.com">US <i class="fi-mail"></i></a><br/> +44 808 189 0493 <a href="mailto:uk@neotechnology.com">UK <i class="fi-mail"></i></a><br/> +49 800 723 6231 <a href="mailto:vertrieb@neotechnology.com">Germany <i class="fi-mail"></i></a><br/> +33 (0)8 05 08 03 44 <a href="mailto:ventes@neotechnology.com">France <i class="fi-mail"></i></a></p>
            <h5>Get Neo4j News</h5>
            <p>Keep up with the latest graph database trends, tips &amp; events.</p>
            <div class="row collapse">
               <div class="small-9 columns">
                  <script src="//app-sjl.marketo.com/js/forms2/js/forms2.js"></script>
                  <form id="mktoForm_477"></form>
                  <script>MktoForms2.loadForm("//app-sjl.marketo.com", "773-GON-065", 477);</script>
               </div>
               <div class="small-3 columns"> <a href="#" id="signup" class="button postfix">Go &rsaquo;</a> </div>
            </div>
         </div>
      </div>
   </footer>
   <style> #mktoForm_477 button {display:none;} #mktoForm_477 {margin-left:-20px;} </style>
   <script>
      var btn = document.getElementById("signup");
      btn.onclick = function(){
        MktoForms2.getForm(477).submit();
      };
   </script>
   <div class="row text-center hide-for-small hr-style">
      <div class="medium-5 columns">
         <hr>
      </div>
      <div class="medium-2 columns"> <object height="100%" width="100%" data="http://www.neo4j.com/wp-content/themes/neo4jzurb/assets/images/hr-image.svg" type="image/svg+xml"></object> </div>
      <div class="medium-5 columns">
         <hr>
      </div>
   </div>
   <div class="row text-center show-for-small">
      <div class="medium-12 columns">
         <hr>
      </div>
   </div>
   <div class="row collapse copyright">
      <div class="small-12 medium-3 columns text-center">
         <p>&copy; 2014 <a href="http://neotechnology.com/">Neo Technology, Inc.</a></p>
      </div>
      <div class="small-12 medium-6 columns text-center">
         <code>&#40;graphs&#41;-&#91;&#58;ARE&#93;-&rsaquo;&#40;everywhere&#41;</code>
         <p>With &hearts; from Sweden &amp; the <a href="http://neo4j.com/community/">Neo4j</a> Community</p>
      </div>
      <div class="small-12 medium-3 columns text-center">
         <ul>
            <li><a href="http://neo4j.com/terms">Terms</a></li>
            <li><a href="http://neo4j.com/privacy-policy/">Privacy Policy</a></li>
         </ul>
      </div>
   </div>
   <a class="exit-off-canvas"></a>
</div>
</div>
<script src="http://munchkin.marketo.net/munchkin.js" type="text/javascript"></script> <script type="text/javascript">mktoMunchkin("773-GON-065");</script> <script type='text/javascript' src='http://neo4j.com/wp-content/plugins/akismet/_inc/form.js?ver=3.0.1'></script> <script type='text/javascript' src='http://neo4j.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script> <script type='text/javascript' src='http://cdnjs.cloudflare.com/ajax/libs/d3/3.4.2/d3.min.js?ver=3.9.2'></script> <script type='text/javascript' src='http://cdnjs.cloudflare.com/ajax/libs/json3/3.3.0/json3.min.js?ver=3.9.2'></script> <script type='text/javascript' src='http://neo4j.com/wp-content/themes/neo4jzurb/assets/js/neo_d3.js?ver=3.9.2'></script> <script type='text/javascript' src='http://neo4j.com/wp-includes/js/comment-reply.min.js?ver=3.9.2'></script> <script>
jQuery(document).foundation({
  tab: {
    callback : function (tab) {
      $(window).trigger('resize');
    }
  }
});
</script> <script src="http://www.neo4j.com/wp-content/themes/neo4jzurb/assets/js/foundation/foundation.equalizer.js"></script>
</body>
<script type="text/javascript" src="http://munchkin.marketo.net/munchkin.js"></script> <script type="text/javascript">
mktoMunchkin("773-GON-065");
</script>
</html>